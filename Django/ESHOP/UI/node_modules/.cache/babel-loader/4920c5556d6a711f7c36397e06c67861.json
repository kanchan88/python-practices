{"ast":null,"code":"import _regeneratorRuntime from\"/home/evazs/Downloads/material-kit-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/evazs/Downloads/material-kit-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/evazs/Downloads/material-kit-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/evazs/Downloads/material-kit-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/evazs/Downloads/material-kit-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Container,TextField,Typography,Button,Box,Modal,Icon}from'@mui/material';import{styled}from'@mui/material/styles';import ImageList from'@mui/material/ImageList';import ImageListItem from'@mui/material/ImageListItem';import DeleteIcon from'@mui/icons-material/Delete';import{useState,useEffect}from'react';import axios from'axios';import*as React from'react';import{Link as RouterLink,useParams}from'react-router-dom';import{loadSingleProduct}from'../_mocks_/repo/data';// prettier-ignore\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProduct(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),prodImage=_useState2[0],setProductImage=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),displayImage=_useState4[0],setDisplayImage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),productAdded=_useState6[0],setProductAdded=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),product=_useState8[0],setProduct=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),id=_useState12[0],setId=_useState12[1];var ids=useParams();var _useState13=useState({name:'',description:'',product_detail:'',weight:1,slug:'',marked_price:'',price:'',seo_meta_title:'',seo_meta_description:'',images:[{image:''}]}),_useState14=_slicedToArray(_useState13,2),productValues=_useState14[0],setProductValues=_useState14[1];var getSingleProduct=function getSingleProduct(id){loadSingleProduct(id).then(function(data){if(data.error){setError(data.error);}else{setProductValues(data.data);}});};useEffect(function(){getSingleProduct(ids.id);},[]);var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var formData=new FormData();formData.append('name',productValues.name);formData.append('description',productValues.description);formData.append('product_detail',productValues.product_detail);formData.append('weight',productValues.weight);formData.append('slug',productValues.slug);formData.append('marked_price',productValues.marked_price);formData.append('price',productValues.price);formData.append('seo_meta_title',productValues.seo_meta_title);formData.append('seo_meta_description',productValues.seo_meta_description);formData.append('images[0]image',prodImage!=null?prodImage:productValues.images[0].image);var handleProductChanges=function handleProductChanges(e){setProductValues(_objectSpread(_objectSpread({},productValues),{},_defineProperty({},e.target.name,e.target.value)));};var headerFile={headers:{'Content-Type':'multipart/form-data'}};var editProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.put(\"http://127.0.0.1:8000/api/product/\".concat(ids.id),formData,headerFile).then(function(response){setProductAdded(true);handleOpen();}).catch(function(error){console.log(error);});case 2:console.log(formData);case 3:case\"end\":return _context.stop();}}},_callee);}));return function editProduct(){return _ref.apply(this,arguments);};}();var deleteProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"http://127.0.0.1:8000/api/product/\".concat(ids.id),formData,headerFile).then(function(response){setProductAdded(true);handleOpen();}).catch(function(error){console.log(error);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteProduct(){return _ref2.apply(this,arguments);};}();var handleImageChange=function handleImageChange(e){setProductImage(e.target.files[0]);setDisplayImage(URL.createObjectURL(e.target.files[0]));};var style={position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:400,bgcolor:'background.paper',border:'2px solid #000',boxShadow:24,p:4};return/*#__PURE__*/_jsx(\"div\",{children:productAdded?/*#__PURE__*/_jsx(Modal,{open:open,onClose:handleClose,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{sx:style,children:[/*#__PURE__*/_jsx(Typography,{id:\"modal-modal-title\",variant:\"h4\",component:\"h2\",children:\"Product Edited Successfully\"}),/*#__PURE__*/_jsx(Typography,{id:\"modal-modal-description\",sx:{mt:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:RouterLink,to:\"/dashboard/products\",icon:/*#__PURE__*/_jsx(Icon,{name:\"back\",size:15,color:\"white\"}),children:\"Go Back\"})})]})}):/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Typography,{m:2,variant:\"h4\",gutterBottom:true,children:[\"Edit Product\",/*#__PURE__*/_jsx(Button,{sx:{ml:80},variant:\"outlined\",component:\"label\",onClick:deleteProduct,color:\"error\",startIcon:/*#__PURE__*/_jsx(DeleteIcon,{}),children:/*#__PURE__*/_jsx(\"h3\",{children:\"Delete Product\"})})]}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Product Name\",name:\"name\",variant:\"outlined\",value:productValues.name,onChange:handleProductChanges,fullWidth:true})}),/*#__PURE__*/_jsxs(Box,{component:\"form\",sx:{'& > :not(style)':{m:2,width:'25ch'}},noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{label:\"Marked Price\",variant:\"outlined\",name:\"marked_price\",value:productValues.marked_price,onChange:handleProductChanges}),/*#__PURE__*/_jsx(TextField,{label:\"Sale Price\",variant:\"outlined\",name:\"price\",value:productValues.price,onChange:handleProductChanges}),/*#__PURE__*/_jsx(TextField,{label:\"Weight Info\",variant:\"outlined\",name:\"weight\",value:productValues.weight,onChange:handleProductChanges})]}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Short Description\",multiline:true,rows:2,rowsMax:2,name:\"product_detail\",value:productValues.product_detail,onChange:handleProductChanges,fullWidth:true})}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Long Description\",multiline:true,rows:6,rowsMax:4,name:\"description\",value:productValues.description,onChange:handleProductChanges,fullWidth:true})}),/*#__PURE__*/_jsx(Typography,{m:2,variant:\"h5\",gutterBottom:true,children:\"SEO Section\"}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Meta Title\",variant:\"outlined\",name:\"seo_meta_title\",value:productValues.seo_meta_title,onChange:handleProductChanges,fullWidth:true})}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Product Slug\",variant:\"outlined\",name:\"slug\",value:productValues.slug,onChange:handleProductChanges,fullWidth:true})}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Meta Description\",multiline:true,rows:2,rowsMax:2,name:\"seo_meta_description\",value:productValues.seo_meta_description,onChange:handleProductChanges,fullWidth:true})}),/*#__PURE__*/_jsx(Typography,{m:2,variant:\"h5\",gutterBottom:true,children:\"Product Images\"}),/*#__PURE__*/_jsxs(Box,{m:2,children:[displayImage==null?/*#__PURE__*/_jsx(\"img\",{src:productValues.images[0].image,alt:\"img\",height:\"100px\"}):/*#__PURE__*/_jsx(\"img\",{src:displayImage,alt:\"img\",height:\"100px\"}),/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",component:\"label\",children:[\"Upload Images*\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",onChange:handleImageChange,hidden:true})]})]}),/*#__PURE__*/_jsx(Box,{m:2,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:\"label\",onClick:editProduct,fullWidth:true,children:/*#__PURE__*/_jsx(\"h3\",{children:\"Add Product\"})})})]})});}","map":{"version":3,"sources":["/home/evazs/Downloads/material-kit-react-main/src/pages/EditProduct.js"],"names":["Container","TextField","Typography","Button","Box","Modal","Icon","styled","ImageList","ImageListItem","DeleteIcon","useState","useEffect","axios","React","Link","RouterLink","useParams","loadSingleProduct","EditProduct","props","prodImage","setProductImage","displayImage","setDisplayImage","productAdded","setProductAdded","product","setProduct","error","setError","id","setId","ids","name","description","product_detail","weight","slug","marked_price","price","seo_meta_title","seo_meta_description","images","image","productValues","setProductValues","getSingleProduct","then","data","open","setOpen","handleOpen","handleClose","formData","FormData","append","handleProductChanges","e","target","value","headerFile","headers","editProduct","put","response","catch","console","log","deleteProduct","delete","handleImageChange","files","URL","createObjectURL","style","position","top","left","transform","width","bgcolor","border","boxShadow","p","mt","ml","m"],"mappings":"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","sourcesContent":["import { Container, TextField, Typography, Button, Box, Modal, Icon } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport ImageList from '@mui/material/ImageList';\nimport ImageListItem from '@mui/material/ImageListItem';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport * as React from 'react';\nimport { Link as RouterLink, useParams } from 'react-router-dom';\nimport { loadSingleProduct } from '../_mocks_/repo/data';\n\n// prettier-ignore\n\nexport default function EditProduct(props) {\n  const [prodImage, setProductImage] = useState();\n  const [displayImage, setDisplayImage] = useState();\n  const [productAdded, setProductAdded] = useState(false);\n\n  const [product, setProduct] = useState([]);\n  const [error, setError] = useState(false);\n  const [id, setId] = useState([]);\n\n  const ids = useParams();\n\n  const [productValues, setProductValues] = useState({\n    name: '',\n    description: '',\n    product_detail: '',\n    weight: 1,\n    slug: '',\n    marked_price: '',\n    price: '',\n    seo_meta_title: '',\n    seo_meta_description: '',\n    images:[\n        {\n            image:''\n        }\n    ]\n  });\n\n  const getSingleProduct = (id) => {\n    loadSingleProduct(id).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductValues(data.data);\n      }\n    });\n};\n  useEffect(() => {\n    getSingleProduct(ids.id);\n  }, []);\n\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const formData = new FormData();\n  formData.append('name', productValues.name);\n  formData.append('description', productValues.description);\n  formData.append('product_detail', productValues.product_detail);\n  formData.append('weight', productValues.weight);\n  formData.append('slug', productValues.slug);\n  formData.append('marked_price', productValues.marked_price);\n  formData.append('price', productValues.price);\n  formData.append('seo_meta_title', productValues.seo_meta_title);\n  formData.append('seo_meta_description', productValues.seo_meta_description);\n  formData.append('images[0]image', prodImage!=null?prodImage:productValues.images[0].image);\n\n  const handleProductChanges = (e) => {\n    setProductValues({\n      ...productValues,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const headerFile = {\n    headers:{\n      'Content-Type': 'multipart/form-data'\n      }\n    };\n\n  const editProduct = async () => {\n    await axios\n      .put(`http://127.0.0.1:8000/api/product/${ids.id}`, formData, headerFile )\n      .then((response) => {\n        setProductAdded(true);\n        handleOpen();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    console.log(formData);\n  };\n\n  const deleteProduct = async () => {\n    await axios\n      .delete(`http://127.0.0.1:8000/api/product/${ids.id}`, formData, headerFile )\n      .then((response) => {\n        setProductAdded(true);\n        handleOpen();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleImageChange = (e) => {\n    setProductImage(e.target.files[0]);\n    setDisplayImage(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const style = {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 400,\n    bgcolor: 'background.paper',\n    border: '2px solid #000',\n    boxShadow: 24,\n    p: 4,\n  };\n\n  return (\n    <div>\n      {\n      productAdded?\n      <Modal \n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\">\n        <Box sx={style}>\n          <Typography id=\"modal-modal-title\" variant=\"h4\" component=\"h2\">\n            Product Edited Successfully\n          </Typography>\n          <Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\n            <Button\n              variant=\"contained\"\n              component={RouterLink}\n              to=\"/dashboard/products\"\n              icon={<Icon name=\"back\" size={15} color=\"white\" />}\n            >\n              Go Back \n            </Button>\n          </Typography>\n        </Box>\n      </Modal>:\n          <Container>\n          <Typography m={2} variant=\"h4\" gutterBottom> \n            Edit Product\n            <Button  sx={{ ml:80 }} variant=\"outlined\" component=\"label\" onClick={deleteProduct} color=\"error\" startIcon={<DeleteIcon />}>\n              <h3>Delete Product</h3>\n            </Button>\n          </Typography>\n          <Box m={2}>\n            <TextField\n              label=\"Product Name\"\n              name=\"name\"\n              variant=\"outlined\"\n              value={productValues.name}\n              onChange={handleProductChanges}\n              fullWidth\n            />\n          </Box>\n          <Box\n            component=\"form\"\n            sx={{\n              '& > :not(style)': { m: 2, width: '25ch' }\n            }}\n            noValidate\n            autoComplete=\"off\"\n          >\n            <TextField\n              label=\"Marked Price\"\n              variant=\"outlined\"\n              name=\"marked_price\"\n              value={productValues.marked_price}\n              onChange={handleProductChanges}\n            />\n            <TextField\n              label=\"Sale Price\"\n              variant=\"outlined\"\n              name=\"price\"\n              value={productValues.price}\n              onChange={handleProductChanges}\n            />\n            <TextField\n              label=\"Weight Info\"\n              variant=\"outlined\"\n              name=\"weight\"\n              value={productValues.weight}\n              onChange={handleProductChanges}\n            />\n          </Box>\n          <Box m={2}>\n            <TextField\n              label=\"Short Description\"\n              multiline\n              rows={2}\n              rowsMax={2}\n              name=\"product_detail\"\n              value={productValues.product_detail}\n              onChange={handleProductChanges}\n              fullWidth\n            />\n          </Box>\n          <Box m={2}>\n            <TextField\n              label=\"Long Description\"\n              multiline\n              rows={6}\n              rowsMax={4}\n              name=\"description\"\n              value={productValues.description}\n              onChange={handleProductChanges}\n              fullWidth\n            />\n          </Box>\n          <Typography m={2} variant=\"h5\" gutterBottom>\n            SEO Section\n          </Typography>\n          <Box m={2}>\n            <TextField\n              label=\"Meta Title\"\n              variant=\"outlined\"\n              name=\"seo_meta_title\"\n              value={productValues.seo_meta_title}\n              onChange={handleProductChanges}\n              fullWidth\n            />\n          </Box>\n          <Box m={2}>\n            <TextField\n              label=\"Product Slug\"\n              variant=\"outlined\"\n              name=\"slug\"\n              value={productValues.slug}\n              onChange={handleProductChanges}\n              fullWidth\n            />\n          </Box>\n          <Box m={2}>\n            <TextField\n              label=\"Meta Description\"\n              multiline\n              rows={2}\n              rowsMax={2}\n              name=\"seo_meta_description\"\n              value={productValues.seo_meta_description}\n              onChange={handleProductChanges}\n              fullWidth\n            />\n          </Box>\n          <Typography m={2} variant=\"h5\" gutterBottom>\n            Product Images\n          </Typography>\n          <Box m={2}>\n            {displayImage==null?<img src={ productValues.images[0].image } alt=\"img\" height=\"100px\"/>:<img src={ displayImage } alt=\"img\" height=\"100px\"/>}\n            <Button variant=\"outlined\" component=\"label\">\n              Upload Images*\n              <input type=\"file\" name=\"image\" onChange={handleImageChange} hidden />\n            </Button>\n          </Box>\n          <Box m={2}>\n            <Button variant=\"contained\" component=\"label\" onClick={editProduct} fullWidth>\n              <h3>Add Product</h3>\n            </Button>\n          </Box>\n        </Container>\n        }\n    </div>\n  );\n}\n\nEditProduct.propTypes = {\n  location: PropTypes.object\n};\n"]},"metadata":{},"sourceType":"module"}